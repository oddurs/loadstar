# Starship Configuration - Ultra-fast, beautiful prompt
# World-class shell experience with Catppuccin theme

# Main configuration
format = """$all$character"""
right_format = """$cmd_duration$time"""
add_newline = true
scan_timeout = 10
command_timeout = 1000

# Character indicator
[character]
success_symbol = "[â¯](bold green)"
error_symbol = "[â¯](bold red)"
vimcmd_symbol = "[â®](bold green)"

# Directory display
[directory]
truncation_length = 3
truncation_symbol = "â€¦/"
truncate_to_repo = true
style = "bold blue"
read_only = "ðŸ”’"
read_only_style = "red"
home_symbol = "~"

# Git integration
[git_branch]
format = "on [$symbol$branch(:$remote_branch)]($style) "
symbol = " "
style = "bold purple"
truncation_length = 20
truncation_symbol = "â€¦"

[git_status]
format = "([\\[$all_status$ahead_behind\\]]($style) )"
style = "bold red"
conflicted = "âš”ï¸ "
ahead = "â‡¡${count}"
behind = "â‡£${count}"
diverged = "â‡•â‡¡${ahead_count}â‡£${behind_count}"
up_to_date = "âœ“"
untracked = "?${count}"
stashed = "$${count}"
modified = "!${count}"
staged = "+${count}"
renamed = "Â»${count}"
deleted = "âœ˜${count}"

[git_commit]
commit_hash_length = 7
style = "bold yellow"
only_detached = true
tag_symbol = " ðŸ·  "
tag_disabled = false

[git_state]
format = "\\([$state( $progress_current/$progress_total)]($style)\\) "
style = "bright-black"
rebase = "REBASING"
merge = "MERGING"
revert = "REVERTING"
cherry_pick = "CHERRY-PICKING"
bisect = "BISECTING"
am = "AM"
am_or_rebase = "AM/REBASE"

# Programming language indicators
[nodejs]
format = "via [$symbol($version )]($style)"
symbol = " "
style = "bold green"
detect_extensions = ["js", "mjs", "cjs", "ts", "tsx"]
detect_files = ["package.json", ".node-version", ".nvmrc"]

[python]
format = "via [$symbol$pyenv_prefix($version )(\\($virtualenv\\) )]($style)"
symbol = " "
style = "yellow bold"
pyenv_version_name = true
pyenv_prefix = "pyenv "
python_binary = ["./venv/bin/python", "python", "python3", "python2"]

[rust]
format = "via [$symbol($version )]($style)"
symbol = " "
style = "bold red"
detect_extensions = ["rs"]
detect_files = ["Cargo.toml"]

[golang]
format = "via [$symbol($version )]($style)"
symbol = " "
style = "bold cyan"
detect_extensions = ["go"]
detect_files = ["go.mod", "go.sum", "glide.yaml", "Gopkg.yml", "Gopkg.lock", ".go-version"]

[java]
format = "via [$symbol($version )]($style)"
symbol = " "
style = "red dimmed"

[kotlin]
format = "via [$symbol($version )]($style)"
symbol = " "
style = "bold blue"

[lua]
format = "via [$symbol($version )]($style)"
symbol = " "
style = "bold blue"

[php]
format = "via [$symbol($version )]($style)"
symbol = " "
style = "147 bold"

[ruby]
format = "via [$symbol($version )]($style)"
symbol = " "
style = "bold red"

# Container and cloud
[docker_context]
format = "via [$symbol$context]($style) "
symbol = " "
style = "blue bold"
only_with_files = true
detect_extensions = []
detect_files = ["docker-compose.yml", "docker-compose.yaml", "Dockerfile"]

[kubernetes]
format = "on [$symbol$context( \\($namespace\\))]($style) "
symbol = "â˜¸ "
style = "cyan bold"
disabled = false
detect_extensions = []
detect_files = ["k8s"]

[aws]
format = "on [$symbol($profile )(\\($region\\) )(\\[$duration\\])]($style)"
symbol = "â˜ï¸  "
style = "bold blue"
disabled = true

# Package managers
[package]
format = "is [$symbol$version]($style) "
symbol = "ðŸ“¦ "
style = "208 bold"
display_private = false
disabled = false

# Command duration
[cmd_duration]
min_time = 2_000
format = "took [$duration]($style)"
style = "yellow bold"
show_milliseconds = false
disabled = false

# Time
[time]
disabled = false
format = "at [$time]($style) "
style = "bold white"
use_12hr = false
time_format = "%H:%M"
utc_time_offset = "local"

# System info
[username]
style_user = "yellow bold"
style_root = "red bold"
format = "[$user]($style) "
disabled = false
show_always = false

[hostname]
ssh_only = true
format = "on [$hostname]($style) "
style = "green bold"
disabled = false

# Development tools
[terraform]
format = "via [$symbol$workspace]($style) "
symbol = "ðŸ’  "
style = "bold 105"

[vagrant]
format = "via [$symbol($version )]($style)"
symbol = "â± "
style = "cyan bold"

[nix_shell]
format = "via [$symbol$state( \\($name\\))]($style) "
symbol = " "
style = "bold blue"
impure_msg = "[impure shell](bold red)"
pure_msg = "[pure shell](bold green)"

# Battery indicator (useful for laptops)
[battery]
full_symbol = "ðŸ”‹"
charging_symbol = "ðŸ”Œ"
discharging_symbol = "âš¡"
unknown_symbol = "â“"
empty_symbol = "â—"

[[battery.display]]
threshold = 10
style = "red bold"

[[battery.display]]
threshold = 30
style = "yellow bold"

# Memory usage
[memory_usage]
disabled = true
threshold = 75
format = "via $symbol[$ram( | $swap)]($style) "
style = "white bold dimmed"
symbol = "ðŸ "

# Jobs indicator
[jobs]
threshold = 1
format = "[$symbol$number]($style) "
symbol = "âœ¦"
style = "bold blue"

# Custom indicators
[custom.mise]
command = "mise current 2>/dev/null | head -1 | cut -d' ' -f1-2"
when = "command -v mise"
format = "via [$output]($style) "
style = "bold yellow"
disabled = true

[custom.chezmoi]
command = "echo chezmoi"
when = "test -d ~/.local/share/chezmoi"
format = "[$output]($style) "
style = "bold green"
disabled = true